{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "pull-request-bundle-analyzer config",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "$schema": {
      "description": "Part of the JSON Schema standard, this optional keyword declares the URL of the schema that the file conforms to. Editors may download the schema and use it to perform syntax highlighting.",
      "type": "string"
    },
    "bundles": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": ["id", "name"],
        "properties": {
          "id": {
            "description": "Unique identifier for this bundle. Must be provided and unique across bundles.",
            "type": "string",
            "minLength": 1
          },
          "name": {
            "description": "The name of this bundle (displayed in the resulting reports)",
            "type": "string",
            "minLength": 1
          },
          "include": {
            "description": "Files to include for this bundle (globs supported)",
            "examples": ["dist/**/*.js"],
            "anyOf": [
              { "type": "string" },
              {
                "type": "array",
                "items": { "type": "string" }
              }
            ]
          },
          "exclude": {
            "description": "Files to exclude for this bundle (globs supported)",
            "examples": ["dist/vendor/**"],
            "anyOf": [
              { "type": "string" },
              {
                "type": "array",
                "items": { "type": "string" }
              }
            ]
          },
          "compression": {
            "description": "Enabled compression algorithms for this bundle. Can be a single algorithm string, an array of algorithms, or false to disable compression.",
            "anyOf": [
              { "type": "boolean", "const": false },
              { "type": "string", "enum": ["gzip", "brotli"] },
              {
                "type": "array",
                "items": { "type": "string", "enum": ["gzip", "brotli"] }
              }
            ]
          }
        }
      },
      "minItems": 0
    }
  }
}
